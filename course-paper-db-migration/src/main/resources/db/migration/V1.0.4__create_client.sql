CREATE SEQUENCE client_sequence;

CREATE TABLE CLIENT (
    ENTITY_ID          BIGINT PRIMARY KEY DEFAULT nextval('client_sequence'),
    SURNAME            VARCHAR(128) NOT NULL,
    NAME               VARCHAR(128) NOT NULL,
    PATRONYMIC         VARCHAR(128) NOT NULL,
    EMAIL              VARCHAR(128) NOT NULL,
    PASSWORD           VARCHAR(512) NOT NULL,
    CREATED_DATE       TIMESTAMP DEFAULT (NOW() AT TIME ZONE 'UTC'),
    LAST_MODIFIED_DATE TIMESTAMP DEFAULT (NOW() AT TIME ZONE 'UTC'),
    IS_ACTIVE          BOOLEAN DEFAULT TRUE,
    ROLE               VARCHAR(16) DEFAULT 'USER'
) TABLESPACE ${tbsTables};

CREATE UNIQUE INDEX client_email_idx
    ON CLIENT (EMAIL)
    TABLESPACE ${tbsIdx};

GRANT SELECT, INSERT, UPDATE, DELETE ON CLIENT TO ${appRole};
GRANT SELECT ON CLIENT TO ${readerRole};